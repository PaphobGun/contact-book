(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,a,t){e.exports=t(75)},70:function(e,a,t){},75:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(34),o=t.n(s),c=t(8),i=t(9),l=t(11),m=t(10),u=t(12),d=t(5),p=t(77),h=t(80),f=t(79),b=t(13),N=t(36),E=t(38),v=t(14),g={persons:[],person:{}},y={isSignedIn:null,userDetails:"null"},O=Object(b.c)({person:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_PERSONS":return Object(v.a)({},e,{persons:a.payload});case"FETCH_PERSON":return Object(v.a)({},e,{person:a.payload});case"ADD_PERSON":return Object(v.a)({},e,{persons:[a.payload].concat(Object(E.a)(e.persons))});case"DEL_PERSON":return Object(v.a)({},e,{persons:e.persons.filter(function(e){return e.id!==a.payload})});case"EDIT_PERSON":return Object(v.a)({},e,{persons:e.persons.map(function(e){return e.id===a.payload.id?e=a.payload:e})});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SIGN_IN":return Object(v.a)({},e,{isSignedIn:!0,userDetails:a.payload});case"SIGN_OUT":return Object(v.a)({},e,{isSignedIn:!1,userDetails:"null"});default:return e}}}),S=[N.a],w=Object(b.e)(O,{},Object(b.d)(b.a.apply(void 0,S),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()||Object(b.d)())),j=t(76),k=function(e){var a=e.icon,t=e.text,n=e.path;return r.a.createElement("li",{className:"nav-item"},r.a.createElement(j.a,{to:n,className:"nav-link"},r.a.createElement("i",{className:a})," ",t))},I=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(l.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).onAuthChange=function(e){var a=t.props,n=a.signIn,r=a.signOut;e?n({userId:t.auth.currentUser.get().getId(),firstName:t.auth.currentUser.get().getBasicProfile().ofa,lastName:t.auth.currentUser.get().getBasicProfile().wea}):r()},t.onSignIn=function(){t.auth.signIn()},t.onSignOut=function(){t.auth.signOut()},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",function(){window.gapi.client.init({clientId:"962318506559-v2jo1aqh68jll34th5m61phdnatffp68.apps.googleusercontent.com",scope:"email"}).then(function(){e.auth=window.gapi.auth2.getAuthInstance(),e.onAuthChange(e.auth.isSignedIn.get()),e.auth.isSignedIn.listen(e.onAuthChange)})})}},{key:"renderGoogleButton",value:function(){var e=this.props.isSignedIn;return null===e?null:e?r.a.createElement("button",{onClick:this.onSignOut,className:"btn btn-danger"},r.a.createElement("i",{className:"fab fa-google"})," Sign Out"):r.a.createElement("button",{onClick:this.onSignIn,className:"btn btn-danger"},r.a.createElement("i",{className:"fab fa-google"})," Sign In")}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderGoogleButton())}}]),a}(n.Component),x=Object(d.b)(function(e){return{isSignedIn:e.auth.isSignedIn}},{signIn:function(e){return{type:"SIGN_IN",payload:e}},signOut:function(){return{type:"SIGN_OUT"}}})(I),P=Object(d.b)(function(e){return{isSignedIn:e.auth.isSignedIn,userDetails:e.auth.userDetails}})(function(e){var a=e.userDetails,t=a.firstName,n=a.lastName,s=e.isSignedIn;return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement(j.a,{to:"/",className:"navbar-brand"},"Contact Book"),function(e,a,t){if(t)return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarMain"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarMain"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement(k,{icon:"fas fa-home",text:"Home",path:"/"}),r.a.createElement(k,{icon:"fas fa-plus-square",text:"Add Contact",path:"/persons/add"}),r.a.createElement(k,{icon:"fas fa-question-circle",text:"About",path:"/about"}))," ",r.a.createElement("div",{className:"ml-auto mr-3 btn btn-info mb-resp"},"Welcome! ",e[0],a[0])))}(t,n,s),function(e){if(!e)return r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(j.a,{to:"/about",className:"nav-link"},r.a.createElement("i",{className:"fas fa-question-circle"})," About")))}(s),r.a.createElement(x,null)))}),C=t(7),D=t.n(C),_=t(18),A=t(19),F=t.n(A),R=Object(d.b)(function(e){return{currentUserId:e.auth.userDetails.userId}},{delPerson:function(e){return function(){var a=Object(_.a)(D.a.mark(function a(t){return D.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,F.a.delete("https://server-contactbook.herokuapp.com/persons/".concat(e));case 2:t({type:"DEL_PERSON",payload:e});case 3:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}})(function(e){var a=e.person,t=a.firstName,n=a.lastName,s=a.email,o=a.phone,c=a.id,i=a.userFirstName,l=a.userLastName,m=a.userId,u=e.delPerson,d=e.currentUserId;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-9 mx-auto"},r.a.createElement("div",{className:"card mb-4"},r.a.createElement("div",{className:"card-header bg-danger clearfix"},r.a.createElement("h4",{className:"text-white"},t),r.a.createElement("small",{className:"text-white"},"Added by ",i," ",l)),r.a.createElement("div",{className:"card-body text-secondary"},r.a.createElement("p",null,"First Name: ",t),r.a.createElement("p",null,"Last Name: ",n),r.a.createElement("p",null,"Email: ",s),r.a.createElement("p",null,"Phone: ",o)),function(e,a,t,n){if(e===t)return r.a.createElement("div",{className:"card-footer"},r.a.createElement(j.a,{className:"btn btn-info",to:"/persons/edit/".concat(a)},"Edit"),r.a.createElement("button",{className:"ml-2 btn btn-danger",onClick:function(){return function(e,a){a(e)}(a,n)}},"Delete"))}(m,c,d,u))))}),T=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=Object(l.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(s)))).renderPersons=function(){return t.props.persons.map(function(e){return r.a.createElement(R,{key:e.id,person:e})})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchPersons()}},{key:"render",value:function(){return 0===this.props.persons.length?r.a.createElement("div",{className:"container my-5 text-center"},r.a.createElement("div",{className:"spinner-border text-secondary",role:"status"}),r.a.createElement("h1",{className:"mt-5 display-4 text-secondary"},"Loading...")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-center bg-danger header"},r.a.createElement("h1",{className:"display-4 mb-5"},r.a.createElement("span",{className:"text-white"},r.a.createElement("i",{className:"fas fa-users d-none d-sm-block"}))," ","Contact Book")),r.a.createElement("div",{className:"container mt-5"},this.renderPersons()," "))}}]),a}(n.Component),q=Object(d.b)(function(e){return{persons:e.person.persons}},{fetchPersons:function(){return function(){var e=Object(_.a)(D.a.mark(function e(a){var t;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("https://server-contactbook.herokuapp.com/persons/");case 2:t=e.sent,a({type:"FETCH_PERSONS",payload:t.data});case 4:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()}})(T),L=t(17),U=t(78),G=t(37),B=t.n(G),H=function(e){var a=e.name,t=e.label,n=e.type,s=e.placeholder,o=e.error,c=e.value,i=e.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:a},t),r.a.createElement("input",{name:a,type:n,value:c,className:B()("form-control",{"is-invalid":o}),placeholder:s,onChange:i}),o&&r.a.createElement("div",{className:"invalid-feedback"},o)))},M=function(e){var a=e.onChange,t=e.onSubmit,n=e.parentState,s=n.errors,o=n.firstName,c=n.lastName,i=n.email,l=n.phone;return r.a.createElement("form",{onSubmit:t},r.a.createElement(H,{name:"firstName",label:"First Name",type:"text",placeholder:"Enter First Name",handleChange:a,value:o,error:s.firstName}),r.a.createElement(H,{name:"lastName",label:"Last Name",type:"text",placeholder:"Enter Last Name",handleChange:a,value:c,error:s.lastName}),r.a.createElement(H,{name:"email",label:"Email",type:"email",placeholder:"Enter Email",handleChange:a,value:i,error:s.email}),r.a.createElement(H,{name:"phone",label:"Phone Number",type:"text",placeholder:"Enter Phone Number",handleChange:a,value:l,error:s.phone}),r.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-danger btn-block"}))},X=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(l.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",email:"",phone:"",errors:{}},t.onChange=function(e){return t.setState(Object(L.a)({},e.target.name,e.target.value))},t.onSubmit=function(e){e.preventDefault();var a=t.state,n=a.firstName,r=a.lastName,s=a.email,o=a.phone;if(""!==n)if(""!==r)if(""!==s)if(""!==o){var c={firstName:n,lastName:r,email:s,phone:o,userFirstName:t.props.auth.firstName,userLastName:t.props.auth.lastName,userId:t.props.auth.userId};t.props.addPerson(c),t.setState({firstName:"",lastName:"",email:"",phone:"",errors:{}}),t.props.history.push("/")}else t.setState({errors:{phone:"Phone Number is required"}});else t.setState({errors:{email:"Email is required"}});else t.setState({errors:{lastName:"Last Name is required"}});else t.setState({errors:{firstName:"First Name is required"}})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return this.props.isSignedIn?r.a.createElement("div",{className:"container my-5"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header bg-danger"},r.a.createElement("h3",{className:"text-white"},"Add New Person")),r.a.createElement("div",{className:"card-body"},r.a.createElement(M,{parentState:this.state,onChange:this.onChange,onSubmit:this.onSubmit})))):r.a.createElement(U.a,{to:"/"})}}]),a}(n.Component),W=Object(d.b)(function(e){return{auth:e.auth.userDetails,isSignedIn:e.auth.isSignedIn}},{addPerson:function(e){return function(){var a=Object(_.a)(D.a.mark(function a(t){var n;return D.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,F.a.post("https://server-contactbook.herokuapp.com/persons/",e);case 2:n=a.sent,t({type:"ADD_PERSON",payload:n.data});case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}})(X),J=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(l.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",email:"",phone:"",errors:{}},t.onChange=function(e){return t.setState(Object(L.a)({},e.target.name,e.target.value))},t.onSubmit=function(e){e.preventDefault();var a=t.state,n=a.firstName,r=a.lastName,s=a.email,o=a.phone;if(""!==n)if(""!==r)if(""!==s)if(""!==o){var c={id:t.props.match.params.id,firstName:n,lastName:r,email:s,phone:o,userFirstName:t.props.auth.firstName,userLastName:t.props.auth.lastName,userId:t.props.auth.userId};t.props.editPerson(c),t.setState({firstName:"",lastName:"",email:"",phone:"",errors:{}}),t.props.history.push("/")}else t.setState({errors:{phone:"Phone Number is required"}});else t.setState({errors:{email:"Email is required"}});else t.setState({errors:{lastName:"Last Name is required"}});else t.setState({errors:{firstName:"First Name is required"}})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.fetchPerson(e)}},{key:"componentDidUpdate",value:function(e,a,t){this.props.person!==e.person&&this.setState(this.props.person)}},{key:"render",value:function(){return this.props.isSignedIn?r.a.createElement("div",{className:"container my-5"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header bg-danger"},r.a.createElement("h3",{className:"text-white"},"Edit Information")),r.a.createElement("div",{className:"card-body"},r.a.createElement(M,{parentState:this.state,onChange:this.onChange,onSubmit:this.onSubmit})))):r.a.createElement(U.a,{to:"/"})}}]),a}(n.Component),V=Object(d.b)(function(e){return{auth:e.auth.userDetails,person:e.person.person,isSignedIn:e.auth.isSignedIn}},{fetchPerson:function(e){return function(){var a=Object(_.a)(D.a.mark(function a(t){var n;return D.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,F.a.get("https://server-contactbook.herokuapp.com/persons/".concat(e));case 2:n=a.sent,t({type:"FETCH_PERSON",payload:n.data});case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},editPerson:function(e){return function(){var a=Object(_.a)(D.a.mark(function a(t){var n;return D.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,F.a.put("https://server-contactbook.herokuapp.com/persons/".concat(e.id),e);case 2:n=a.sent,t({type:"EDIT_PERSON",payload:n.data});case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}})(J),Y=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-9 mx-auto"},r.a.createElement("div",{className:"card mt-5"},r.a.createElement("div",{className:"card-header bg-danger text-white"},r.a.createElement("h5",null,"How to use ",r.a.createElement("i",{className:"fas fa-question-circle"}))),r.a.createElement("div",{className:"card-body"},'In order to add new contact you have to sign in with google account, and then you will see the "Add Contact" menu from the navbar. You can edit and delete the contact that added by yourself only ,You can not edit or delete the one that added by others.')))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-9 mx-auto"},r.a.createElement("div",{className:"card mt-5"},r.a.createElement("div",{className:"card-header bg-danger text-white"},r.a.createElement("h5",null,"Information ",r.a.createElement("i",{className:"fas fa-exclamation-circle"}))),r.a.createElement("div",{className:"card-body"},"This aplication created by Paphob Aneakpoonsinsuk. Using React and Redux to developped.This aplication have a full CRUD operation by making request on REST API, json-server is the API that used in this project and hosted on Heroku.com, In this aplication will use OAuth ( google login ) to manage Authorization."),r.a.createElement("div",{className:"card-footer"},r.a.createElement("a",{href:"https://github.com/PaphobGun/contact-book",className:"btn btn-primary",target:"_blank",rel:"noopener noreferrer"},"Repository"),r.a.createElement("p",{className:"d-inline ml-2"},"Here is the link to Github repository"))))))},z=function(){return r.a.createElement("div",{className:"container my-5"},r.a.createElement("h1",{className:"display-4 text-danger"},"Error 404 Page Not Found"),r.a.createElement("div",{className:"card mt-5"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title"},"Url is not correct please click the link on navbar to navigate to the right page or click on this button"),r.a.createElement("hr",null),r.a.createElement(j.a,{to:"/",className:"btn btn-primary"},"Go to home"))))},$=(t(70),function(e){function a(){return Object(c.a)(this,a),Object(l.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,{store:w},r.a.createElement(p.a,{basename:"/contact-book"},r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement(h.a,null,r.a.createElement(f.a,{exact:!0,path:"/",component:q}),r.a.createElement(f.a,{exact:!0,path:"/persons/add",component:W}),r.a.createElement(f.a,{exact:!0,path:"/persons/edit/:id",component:V}),r.a.createElement(f.a,{exact:!0,path:"/about",component:Y}),r.a.createElement(f.a,{component:z})))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(71),t(74);o.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,1,2]]]);
//# sourceMappingURL=main.a46def66.chunk.js.map