(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,a){e.exports=a(75)},69:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(33),o=a.n(s),c=a(4),i=a(5),l=a(7),m=a(6),u=a(8),p=a(11),d=a(77),h=a(79),b=a(78),f=a(14),E=a(35),v=a(38),N=a(12),g={persons:[],person:{}},y={isSignedIn:null,userDetails:null},O=Object(f.c)({person:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PERSONS":return Object(N.a)({},e,{persons:t.payload});case"FETCH_PERSON":return Object(N.a)({},e,{person:t.payload});case"ADD_PERSON":return Object(N.a)({},e,{persons:[t.payload].concat(Object(v.a)(e.persons))});case"DEL_PERSON":return Object(N.a)({},e,{persons:e.persons.filter(function(e){return e.id!==t.payload})});case"EDIT_PERSON":return Object(N.a)({},e,{persons:e.persons.map(function(e){return e.id===t.payload.id?e=t.payload:e})});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(N.a)({},e,{isSignedIn:!0,userDetails:t.payload});case"SIGN_OUT":return Object(N.a)({},e,{isSignedIn:!1,userDetails:null});default:return e}}}),j=[E.a],S=Object(f.e)(O,{},Object(f.d)(f.a.apply(void 0,j),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()||Object(f.d)())),k=a(76),w=function(e){var t=e.icon,a=e.text,n=e.path;return r.a.createElement("li",{className:"nav-item"},r.a.createElement(k.a,{to:n,className:"nav-link"},r.a.createElement("i",{className:t})," ",a))},x=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onAuthChange=function(e){var t=a.props,n=t.signIn,r=t.signOut;e?n({userId:a.auth.currentUser.get().getId(),firstName:a.auth.currentUser.get().getBasicProfile().ofa,lastName:a.auth.currentUser.get().getBasicProfile().wea}):r()},a.onSignIn=function(){a.auth.signIn()},a.onSignOut=function(){a.auth.signOut()},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",function(){window.gapi.client.init({clientId:"962318506559-v2jo1aqh68jll34th5m61phdnatffp68.apps.googleusercontent.com",scope:"email"}).then(function(){e.auth=window.gapi.auth2.getAuthInstance(),e.onAuthChange(e.auth.isSignedIn.get()),e.auth.isSignedIn.listen(e.onAuthChange)})})}},{key:"renderGoogleButton",value:function(){var e=this.props.isSignedIn;return null===e?null:e?r.a.createElement("button",{onClick:this.onSignOut,className:"btn btn-danger"},r.a.createElement("i",{className:"fab fa-google"})," Sign Out"):r.a.createElement("button",{onClick:this.onSignIn,className:"btn btn-danger"},r.a.createElement("i",{className:"fab fa-google"})," Sign In")}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderGoogleButton())}}]),t}(n.Component),I=Object(p.b)(function(e){return{isSignedIn:e.auth.isSignedIn}},{signIn:function(e){return{type:"SIGN_IN",payload:e}},signOut:function(){return{type:"SIGN_OUT"}}})(x),C=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement(k.a,{to:"/",className:"navbar-brand"},"Contact Book"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarMain"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarMain"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement(w,{icon:"fas fa-home",text:"Home",path:"/"}),r.a.createElement(w,{icon:"fas fa-plus-square",text:"Add Contact",path:"/persons/add"}),r.a.createElement(w,{icon:"fas fa-question-circle",text:"About",path:"/about"}))," "),r.a.createElement(I,null)))},P=a(13),_=a.n(P),D=a(16),R=a(17),A=a.n(R),U=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).deletePerson=function(e){a.props.delPerson(e)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.person,t=e.firstName,a=e.lastName,n=e.email,s=e.phone,o=e.id,c=e.userFirstName,i=e.userLastName;e.userId;return r.a.createElement("div",{className:"card mb-4"},r.a.createElement("div",{className:"card-header clearfix"},r.a.createElement("h4",{className:"text-secondary"},t),r.a.createElement("small",{className:"text-secondary"},"Added by ",c," ",i)),r.a.createElement("div",{className:"card-body text-secondary"},r.a.createElement("p",null,"First Name: ",t),r.a.createElement("p",null,"Last Name: ",a),r.a.createElement("p",null,"Email: ",n),r.a.createElement("p",null,"Phone: ",s)),r.a.createElement("div",{className:"card-footer"},r.a.createElement(k.a,{className:"btn btn-info",to:"/persons/edit/".concat(o)},"Edit"),r.a.createElement("button",{className:"ml-2 btn btn-danger",onClick:this.deletePerson.bind(this,o)},"Delete")))}}]),t}(n.Component),T=Object(p.b)(null,{delPerson:function(e){return function(){var t=Object(D.a)(_.a.mark(function t(a){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.a.delete("https://server-contactbook.herokuapp.com/persons/".concat(e));case 2:a({type:"DEL_PERSON",payload:e});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(U),F=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).renderPersons=function(){return a.props.persons.map(function(e){return r.a.createElement(T,{key:e.id,person:e})})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPersons()}},{key:"render",value:function(){return 0===this.props.persons.length?r.a.createElement("div",{className:"container my-5 text-center"},r.a.createElement("div",{className:"spinner-border text-primary",role:"status"}),r.a.createElement("h1",{className:"mt-5 display-4 text-primary"},"Add New Contact")):r.a.createElement("div",{className:"container my-5"},r.a.createElement("h1",{className:"display-4 mb-5 text-primary"},"My Contacts"),this.renderPersons())}}]),t}(n.Component),q=Object(p.b)(function(e){return{persons:e.person.persons}},{fetchPersons:function(){return function(){var e=Object(D.a)(_.a.mark(function e(t){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("https://server-contactbook.herokuapp.com/persons/");case 2:a=e.sent,t({type:"FETCH_PERSONS",payload:a.data});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(F),L=a(15),B=a(36),G=a.n(B),H=function(e){var t=e.name,a=e.label,n=e.type,s=e.placeholder,o=e.error,c=e.value,i=e.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},a),r.a.createElement("input",{name:t,type:n,value:c,className:G()("form-control",{"is-invalid":o}),placeholder:s,onChange:i}),o&&r.a.createElement("div",{className:"invalid-feedback"},o)))},M=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onChange,a=e.onSubmit,n=this.props.parentState,s=n.errors,o=n.firstName,c=n.lastName,i=n.email,l=n.phone;return r.a.createElement("form",{onSubmit:a},r.a.createElement(H,{name:"firstName",label:"First Name",type:"text",placeholder:"Enter First Name",handleChange:t,value:o,error:s.firstName}),r.a.createElement(H,{name:"lastName",label:"Last Name",type:"text",placeholder:"Enter Last Name",handleChange:t,value:c,error:s.lastName}),r.a.createElement(H,{name:"email",label:"Email",type:"email",placeholder:"Enter Email",handleChange:t,value:i,error:s.email}),r.a.createElement(H,{name:"phone",label:"Phone Number",type:"text",placeholder:"Enter Phone Number",handleChange:t,value:l,error:s.phone}),r.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-primary btn-block"}))}}]),t}(n.Component),X=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",email:"",phone:"",errors:{}},a.onChange=function(e){return a.setState(Object(L.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n=t.firstName,r=t.lastName,s=t.email,o=t.phone;if(""!==n)if(""!==r)if(""!==s)if(""!==o){var c={firstName:n,lastName:r,email:s,phone:o,userFirstName:a.props.auth.firstName,userLastName:a.props.auth.lastName,userId:a.props.auth.userId};a.props.addPerson(c),a.setState({firstName:"",lastName:"",email:"",phone:"",errors:{}}),a.props.history.push("/")}else a.setState({errors:{phone:"Phone Number is required"}});else a.setState({errors:{email:"Email is required"}});else a.setState({errors:{lastName:"Last Name is required"}});else a.setState({errors:{firstName:"First Name is required"}})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container my-5"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"text-secondary"},"Add New Person")),r.a.createElement("div",{className:"card-body"},r.a.createElement(M,{parentState:this.state,onChange:this.onChange,onSubmit:this.onSubmit}))))}}]),t}(n.Component),J=Object(p.b)(function(e){return{auth:e.auth.userDetails}},{addPerson:function(e){return function(){var t=Object(D.a)(_.a.mark(function t(a,n){var r,s;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.userDetails,t.next=3,A.a.post("https://server-contactbook.herokuapp.com/persons/",Object(N.a)({},e,{userDetails:r}));case 3:s=t.sent,a({type:"ADD_PERSON",payload:s.data});case 5:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()}})(X),V=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",email:"",phone:"",errors:{}},a.onChange=function(e){return a.setState(Object(L.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n=t.firstName,r=t.lastName,s=t.email,o=t.phone;if(""!==n)if(""!==r)if(""!==s)if(""!==o){var c={id:a.props.match.params.id,firstName:n,lastName:r,email:s,phone:o};a.props.editPerson(c),a.setState({firstName:"",lastName:"",email:"",phone:"",errors:{}}),a.props.history.push("/")}else a.setState({errors:{phone:"Phone Number is required"}});else a.setState({errors:{email:"Email is required"}});else a.setState({errors:{lastName:"Last Name is required"}});else a.setState({errors:{firstName:"First Name is required"}})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.fetchPerson(e)}},{key:"componentDidUpdate",value:function(e,t,a){this.props.person!==e.person&&this.setState(this.props.person)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container my-5"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"text-secondary"},"Edit Information")),r.a.createElement("div",{className:"card-body"},r.a.createElement(M,{parentState:this.state,onChange:this.onChange,onSubmit:this.onSubmit}))))}}]),t}(n.Component),W=Object(p.b)(function(e){return{person:e.person.person}},{fetchPerson:function(e){return function(){var t=Object(D.a)(_.a.mark(function t(a){var n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.a.get("https://server-contactbook.herokuapp.com/persons/".concat(e));case 2:n=t.sent,a({type:"FETCH_PERSON",payload:n.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},editPerson:function(e){return function(){var t=Object(D.a)(_.a.mark(function t(a){var n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.a.put("https://server-contactbook.herokuapp.com/persons/".concat(e.id),e);case 2:n=t.sent,a({type:"EDIT_PERSON",payload:n.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(V),$=function(e){var t=e.title,a=e.para;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"card-title"},t),r.a.createElement("p",{className:"lead mb-3"},a))},z=function(e){var t=e.tool,a=e.description;return r.a.createElement("li",{className:"list-group-item"},r.a.createElement("h4",null,t),r.a.createElement("hr",null),r.a.createElement("p",{className:"lead"},a))},K=function(){return r.a.createElement("div",{className:"container text-secondary"},r.a.createElement("div",{className:"card my-5"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",{className:"display-4"},"About")),r.a.createElement("div",{className:"card-body"},r.a.createElement($,{title:"How to use",para:"This application is the contact manager that can add contact\r infomation such as firstname, lastname, email and phone number and\r users can edit or delete the contact as well."}),r.a.createElement($,{title:"Info",para:"This application is created & developped by Paphob Aneakpoonsinsuk\r for learning CRUD operations & RESTful api convention by react + redux in practice.This\r application is deploy on github.io/contact-book/"}),r.a.createElement("div",{className:"my-3"},r.a.createElement("a",{href:"https://github.com/PaphobGun/contact-book",target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline-primary"},"Repository")),r.a.createElement("h3",{className:"card-title"},"Tools"),r.a.createElement("ul",{className:"list-group my-3"},r.a.createElement(z,{tool:"json-server",description:"Used json-server to be a fake api that contains the contacts data and this server is deploy on Heroku"}),r.a.createElement(z,{tool:"React",description:"Used React to build interactived UI"}),r.a.createElement(z,{tool:"Redux",description:"Used Redux to managing store"}),r.a.createElement(z,{tool:"React-router",description:"Used React-router to make this application to be a single page\r application"}),r.a.createElement(z,{tool:"Redux-thunk",description:"Used Redux-thunk to be a middileware for making AJAX call"}),r.a.createElement(z,{tool:"Bootstrap",description:"Used Bootstrap to style modern UI"}),r.a.createElement(z,{tool:"axios",description:"Used axios to make AJAX call"})))))},Q=function(){return r.a.createElement("div",{className:"container my-5"},r.a.createElement("h1",{className:"display-4 text-danger"},"Error 404 Page Not Found"),r.a.createElement("div",{className:"card mt-5"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title"},"Url is not correct please click the link on navbar to navigate to the right page or click on this button"),r.a.createElement("hr",null),r.a.createElement(k.a,{to:"/",className:"btn btn-primary"},"Go to home"))))},Y=(a(69),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{store:S},r.a.createElement(d.a,{basename:"/contact-book"},r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement(h.a,null,r.a.createElement(b.a,{exact:!0,path:"/",component:q}),r.a.createElement(b.a,{exact:!0,path:"/persons/add",component:J}),r.a.createElement(b.a,{exact:!0,path:"/persons/edit/:id",component:W}),r.a.createElement(b.a,{exact:!0,path:"/about",component:K}),r.a.createElement(b.a,{component:Q})))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(71),a(74);o.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,1,2]]]);
//# sourceMappingURL=main.1cdb15e2.chunk.js.map